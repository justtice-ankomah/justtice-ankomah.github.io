
//To read images from the android device
//inside oncreate method or button click listener

Bitmap bitmap;
int image_request_code = 5;

Intent intent = new Intent();
intent.setType("images);
intent.setAction(Intent.ACTION_GET_CONTENT);
startActivityForResult(intent,image_request_code);

// Then inside overidden "onActivityResult" method

if(requestCode==int image_request_code && resultCode==RESULT_OK && data !=null){
Uri uri_path = data.getData();
try(
bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(),uri_path);
imageView.setImageBitmap(bitmap);
)
catch(IOException e){
e.printStackTrace();
}

}

else{
// show a toast saying he did not open any image
}



// To convert a Bitmap image to string

public void imageTostring(Bitmap bitmap){
ByteArrayOutputStream bytearrayoutputstream = new ByteArrayOutputStream();
bitmap.compress(Bitmap.compressFormat.JPEG,100,bytearrayoutputstream);
byte[] imaBytes = byteArrayOutputStream.toByteArray();
return Base64.encodeToString(imgaBytes, Base64.DEFAULT);
}


