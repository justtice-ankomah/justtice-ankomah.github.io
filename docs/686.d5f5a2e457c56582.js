"use strict";(self.webpackChunkHitMakerApp=self.webpackChunkHitMakerApp||[]).push([[686],{9686:(De,I,l)=>{l.r(I),l.d(I,{RegistrationModuleModule:()=>Se});var f=l(9808),u=l(1083),s=l(3075);class g{}var e=l(5e3),v=l(8365),P=l(5823),m=l(7093),Z=l(7423);function D(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," First Name is required "),e.qZA())}function q(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Last Name is required "),e.qZA())}function N(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Username is required "),e.qZA())}function R(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3,'Username must not include "+" '),e.qZA())}function L(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3,"Username must not have space at the start "),e.qZA())}function B(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3,"Username must not include space "),e.qZA())}function Y(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Invalid email address "),e.qZA())}function J(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Invalid "),e.qZA())}function Q(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Invalid (must begin from 0) "),e.qZA())}function E(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3,' don\'t include the "+" or the country-code '),e.qZA())}function z(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3,"Number must be 10 digit beginning from 0 "),e.qZA())}function G(n,a){1&n&&(e.TgZ(0,"p",12)(1,"span",13),e._uU(2,"error"),e.qZA(),e._uU(3," Number must be 10 digit beginning from 0 "),e.qZA())}let j=(()=>{class n{constructor(o,t,i){this.router=o,this.RegisProcessServ=t,this.fb=i,this.mobNumberPattern="^((\\+91-?)|0)?[0-9]{10}$",this.userModel=new g}ngOnInit(){this.dataForm=this.fb.group({PhoneNumber:[,s.kI.compose([s.kI.required,s.kI.pattern("^[0-9]*$"),this.numeric])],FirstName:[,s.kI.compose([s.kI.required])],Username:[,s.kI.compose([s.kI.required,this.username])],LastName:[,s.kI.compose([s.kI.required])],Email:[,s.kI.compose([s.kI.required,s.kI.email])]})}numeric(o){let t=o.value;if(null===t||""===t)return null;if(t.toString().includes("+"))return{noContryCode:!0};{let i=t.toString();if(i.length<10)return{lessthan:!0};if(i.length>10)return{greaterthan:!0};if(!i.startsWith("0"))return{invalidNumber:!0};if(i.startsWith("233"))return{noCountryCodeAllowed:!0}}return null}username(o){let t=o.value;return null===t||""===t?null:t.toString().includes("+")?{noPlus:!0}:t.startsWith(" ")?{beginSpace:!0}:t.includes(" ")?{includeSpace:!0}:null}saveItem(o){console.log(o);var t="233"+o.PhoneNumber.toString().substring(1);o.PhoneNumber=t,this.myData=o,console.log(this.myData),this.router.navigateByUrl("/register/registration/second-registration-page"),this.RegisProcessServ.fetchFromFirstForm(this.myData)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(u.F0),e.Y36(v.d),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-first-registration-page"]],decls:27,vars:14,consts:[["id","navbar"],["title","Registration"],["fxLayout","column","fxLayoutAlign","space-around center",1,"page-container"],[1,"form"],[3,"formGroup","ngSubmit"],["type","text","formControlName","FirstName","placeholder","First Name",2,"display","flex","position","relative"],["class","validate",4,"ngIf"],["type","text","formControlName","LastName","placeholder","Last Name",2,"margin-top","30px","display","flex","position","relative"],["type","text","formControlName","Username","placeholder","Username",2,"margin-top","30px","display","flex","position","relative"],["type","email","formControlName","Email","placeholder","Email Address",2,"margin-top","30px","display","flex","position","relative"],["maxlength","10","minlength","10","type","text","formControlName","PhoneNumber","placeholder","Phone Number","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');",2,"margin-top","20px"],["type","submit","id","continue-btn","mat-flat-button","",3,"disabled"],[1,"validate"],[1,"material-icons","md-36","backicon"]],template:function(o,t){1&o&&(e.TgZ(0,"section")(1,"div",0),e._UZ(2,"app-backtitlenav",1),e.qZA(),e.TgZ(3,"div",2)(4,"h3"),e._uU(5," Y'ello! Please enter your personal information to continue with registration. All the best! "),e.qZA(),e.TgZ(6,"div",3)(7,"form",4),e.NdJ("ngSubmit",function(){return t.saveItem(t.dataForm.value)}),e._UZ(8,"input",5),e.YNc(9,D,4,0,"p",6),e._UZ(10,"input",7),e.YNc(11,q,4,0,"p",6),e._UZ(12,"input",8),e.YNc(13,N,4,0,"p",6),e.YNc(14,R,4,0,"p",6),e.YNc(15,L,4,0,"p",6),e.YNc(16,B,4,0,"p",6),e._UZ(17,"input",9),e.YNc(18,Y,4,0,"p",6),e._UZ(19,"input",10),e.YNc(20,J,4,0,"p",6),e.YNc(21,Q,4,0,"p",6),e.YNc(22,E,4,0,"p",6),e.YNc(23,z,4,0,"p",6),e.YNc(24,G,4,0,"p",6),e.TgZ(25,"button",11),e._uU(26,"Continue"),e.qZA()()()()()),2&o&&(e.xp6(7),e.Q6J("formGroup",t.dataForm),e.xp6(2),e.Q6J("ngIf",(null==t.dataForm.get("FirstName").errors?null:t.dataForm.get("FirstName").errors.required)&&t.dataForm.get("FirstName").touched),e.xp6(2),e.Q6J("ngIf",(null==t.dataForm.get("LastName").errors?null:t.dataForm.get("LastName").errors.required)&&t.dataForm.get("LastName").touched),e.xp6(2),e.Q6J("ngIf",(null==t.dataForm.get("Username").errors?null:t.dataForm.get("Username").errors.required)&&t.dataForm.get("Username").touched),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("Username").errors?null:t.dataForm.get("Username").errors.noPlus),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("Username").errors?null:t.dataForm.get("Username").errors.beginSpace),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("Username").errors?null:t.dataForm.get("Username").errors.includeSpace),e.xp6(2),e.Q6J("ngIf",null==t.dataForm.get("Email").errors?null:t.dataForm.get("Email").errors.email),e.xp6(2),e.Q6J("ngIf",null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.invalidNumber),e.xp6(1),e.Q6J("ngIf",(null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.noContryCode)||(null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.noCountryCodeAllowed)),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.lessthan),e.xp6(1),e.Q6J("ngIf",null==t.dataForm.get("PhoneNumber").errors?null:t.dataForm.get("PhoneNumber").errors.greaterthan),e.xp6(1),e.Q6J("disabled",t.dataForm.invalid))},directives:[P.e,m.xw,m.Wh,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,f.O5,s.nD,s.wO,Z.lW],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;600&display=swap";.page-container[_ngcontent-%COMP%]{margin:20px 30px 0}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;outline:0;width:100%;border:0;border-radius:10px;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px}[_ngcontent-%COMP%]::placeholder{color:#8b92ac}#navbar[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}#continue-btn[_ngcontent-%COMP%]{width:100%;margin-top:30px;border-radius:7px;height:52px;background-color:#ffc624;color:#000;font-family:Raleway,sans-serif;font-weight:700;font-size:16px}#continue-btn[_ngcontent-%COMP%]:disabled{width:100%;margin-top:30px;border-radius:7px;height:52px;background-color:#aeaeae;color:#000;font-family:Raleway,sans-serif;font-weight:700;font-size:16px}.validate[_ngcontent-%COMP%]{color:red;display:flex;justify-content:start;align-items:flex-start}.validate[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:3px}']}),n})(),H=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-registration-layout"]],decls:1,vars:0,template:function(o,t){1&o&&e._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),n})();var y=l(8966);let w=(()=>{class n{constructor(o){this.dialog=o}ngOnInit(){}onClose(){this.dialog.closeAll()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(y.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-success-dialog"]],decls:9,vars:0,consts:[["fxLayout","column","id","entire-page"],["id","check-icon","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark__circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark__check"],[2,"font-weight","700"],["type","button",1,"btn","btn-success","btn-lg","btn-block",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div"),e.O4$(),e.TgZ(2,"svg",1),e._UZ(3,"circle",2)(4,"path",3),e.qZA()(),e.kcU(),e.TgZ(5,"h3",4),e._uU(6," Registration successful ! "),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return t.onClose()}),e._uU(8,"Okay"),e.qZA()())},styles:["#entire-page[_ngcontent-%COMP%]{height:150px;width:200px}#check-icon[_ngcontent-%COMP%]{margin-top:-20px;margin-left:75px;z-index:100}*[_ngcontent-%COMP%]{padding:0;margin:0}.wrapper[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-color:#eee}.checkmark__circle[_ngcontent-%COMP%]{stroke-dasharray:166;stroke-dashoffset:166;stroke-width:2;stroke-miterlimit:10;stroke:#7ac142;fill:none;animation:stroke .6s cubic-bezier(.65,0,.45,1) forwards}.checkmark[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:block;stroke-width:2;stroke:#fff;stroke-miterlimit:10;margin:10% auto;box-shadow:inset 0 0 #7ac142;animation:fill .4s ease-in-out .4s forwards,scale .3s ease-in-out .9s both}.checkmark__check[_ngcontent-%COMP%]{transform-origin:50% 50%;stroke-dasharray:48;stroke-dashoffset:48;animation:stroke .3s cubic-bezier(.65,0,.45,1) .8s forwards}@keyframes stroke{to{stroke-dashoffset:0}}@keyframes scale{0%,to{transform:none}50%{transform:scale(1.1)}}@keyframes fill{to{box-shadow:inset 0 0 0 30px #7ac142}}"]}),n})();class W{}var M=l(1042),V=l(9313),_=l(5910),C=l(3216),X=l(5944),x=l(7261),U=l(7322),K=l(7531),T=l(6856),$=l(7446),A=l(9814);function ee(n,a){1&n&&(e.TgZ(0,"span",25),e._uU(1,"Address is required"),e.qZA())}function te(n,a){1&n&&(e.TgZ(0,"span",25),e._uU(1,"Date of Birth is required"),e.qZA())}function oe(n,a){1&n&&(e.TgZ(0,"span",26),e._uU(1,"Sex is required"),e.qZA())}function ne(n,a){1&n&&(e.TgZ(0,"span",27),e._uU(1,"About is required"),e.qZA())}let ie=(()=>{class n{constructor(o,t,i,r,d,c,p){this.router=o,this.RegisProcessServ=t,this.regFormBuilder=i,this.userRegistrationService=r,this.dialog=d,this.userService=c,this.snackBar=p,this.isPrivate=!0,this.startDate=new Date(2006,0,1),this.userModel=new g,this.firstFormData=new g,this.item=new g,this.mySettings=new W,this.registeredUser=new g;const b=new Date;this.maxDob=new Date(b.getFullYear()-16,b.getMonth(),b.getDate())}get secondform(){return this.myForm.controls}ngOnInit(){this.getSettings(),this.getUserGroups(),this.buildForm(),this.RegisProcessServ.firstFormInfo.subscribe(o=>{this.firstFormData=o,console.log("data from firstRegistration",this.firstFormData)})}openDialog(){this.dialog.open(w)}buildForm(){this.myForm=this.regFormBuilder.group({Address:["",[s.kI.required]],DateOfBirth:["",[s.kI.required]],About:["",[s.kI.required]],Sex:[""],IsPrivate:["true"]})}move(){this.router.navigateByUrl("/register/registration/track-upload")}saveItem(o){this.myData=o,console.log(this.myData),this.router.navigateByUrl("/register/registration/track-upload"),this.RegisProcessServ.fetchFromSecondForm(this.myData)}Register(){this.myForm.get("IsPrivate").patchValue(!0);const o=M.Z();var t=this.myForm.value;this.item.FirstName=this.firstFormData.FirstName,this.item.LastName=this.firstFormData.LastName,this.item.Email=this.firstFormData.Email,this.item.Username=this.firstFormData.Username,this.item.PhoneNumber=this.firstFormData.PhoneNumber.toString(),this.item.IsPrivate=t.IsPrivate,this.item.Address=t.Address,this.item.DateOfBirth=t.DateOfBirth,this.item.About=t.About,this.item.Sex=t.Sex,this.item.PasswordHash=o,this.item.SeasonId=this.mySettings.CurrentSeasonId,this.item.CurrentStageId=this.mySettings.CurrentSeasonStageId,this.item.UserGroupId=this.myUserGrops[1].Id,this.item.ThirdPartySystemId=_.v.thirdParthId,this.item.TwitterHandleUri=null,this.item.LinkedInUri=null,this.item.InstagramPageUri=null,console.log("item to be sent",this.item),this.userRegistrationService.createNewUser(this.item,o).subscribe(i=>{2==i.Success?(this.snackBar.open("Sorry!, this user already exist","OK",{duration:2e3,panelClass:["mat-toolbar","mat-warn"]}),console.log("the user already exist")):1==i.Success&&(this.RegisProcessServ.mRegisteredUser=i.User,this.registeredUser=i,this.RegisProcessServ.fetchFromSecondForm(this.registeredUser),V.x.isShowAyobaPopUP&&this.userService.setPhoneNumbNthirdPtID(this.item.ThirdPartySystemId),console.log("registered",this.registeredUser),this.openDialog(),this.router.navigateByUrl("/register/registration/profile-upload")),console.log("response from backend",i)},i=>{console.log("something went wrong")})}getSettings(){this.userRegistrationService.fetchSettings().subscribe(o=>{this.mySettings=o,console.log(this.mySettings)})}getUserGroups(){this.userRegistrationService.fetchUserGroups().subscribe(o=>{this.myUserGrops=o,console.log("User groups",this.myUserGrops)})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(u.F0),e.Y36(v.d),e.Y36(s.qu),e.Y36(C.c),e.Y36(y.uw),e.Y36(X.K),e.Y36(x.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-second-registration-page"]],decls:41,vars:10,consts:[["id","navbar"],["title","Registration"],["fxLayout","column","fxLayoutAlign","space-around center",1,"page-container"],[1,"form"],[3,"formGroup"],["type","text","placeholder","Address","formControlName","Address",2,"display","flex","position","relative"],[2,"margin-top","-17px","display","flex","position","absolute"],["style","color: red;font-weight:normal; ",4,"ngIf"],[2,"background-color","var(--date_input)","border-radius","9px","height","50px","margin-top","22px"],["appearance","fill",1,"datepicker",2,"display","block","border-radius","10px"],["matInput","","formControlName","DateOfBirth",2,"padding","0px",3,"max","matDatepicker","disabled"],["matSuffix","",3,"for"],["disabled","false"],["dp3",""],[2,"margin-top","33px"],["formControlName","IsPrivate"],[2,"color","grey","margin-top","-10px","margin-bottom","15px"],["formControlName","Sex","aria-label","Select an option"],["value","M"],["value","F",2,"margin-left","10px"],[2,"margin-top","-18px","display","flex","position","absolute"],["style","color: red;font-weight:bold; ",4,"ngIf"],["formControlName","About","placeholder","Tell us about yourself",1,"short-info-input",2,"height","200px","border-radius","10px","margin-top","20px"],["style","color: red; ",4,"ngIf"],["id","register-btn","mat-flat-button","",3,"disabled","click"],[2,"color","red","font-weight","normal"],[2,"color","red","font-weight","bold"],[2,"color","red"]],template:function(o,t){if(1&o&&(e.TgZ(0,"section")(1,"div",0),e._UZ(2,"app-backtitlenav",1),e.qZA(),e.TgZ(3,"div",2)(4,"h3"),e._uU(5," Please enter your personal information and proceed to upload your demos . "),e.qZA(),e.TgZ(6,"div",3)(7,"form",4),e._UZ(8,"input",5),e.TgZ(9,"div",6),e.YNc(10,ee,2,0,"span",7),e.qZA(),e.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e._uU(14,"Date of Birth"),e.qZA(),e._UZ(15,"input",10),e.TgZ(16,"mat-hint"),e._uU(17,"MM/DD/YYYY"),e.qZA(),e._UZ(18,"mat-datepicker-toggle",11)(19,"mat-datepicker",12,13),e.qZA()(),e.TgZ(21,"div",6),e.YNc(22,te,2,0,"span",7),e.qZA(),e.TgZ(23,"div",14)(24,"mat-checkbox",15),e._uU(25,"Private Profile"),e.qZA(),e._UZ(26,"br"),e.qZA(),e.TgZ(27,"h5",16),e._uU(28,"Private profile cannot be seen by other app users"),e.qZA(),e.TgZ(29,"mat-radio-group",17)(30,"mat-radio-button",18),e._uU(31,"Male"),e.qZA(),e.TgZ(32,"mat-radio-button",19),e._uU(33,"Female "),e.qZA()(),e.TgZ(34,"div",20),e.YNc(35,oe,2,0,"span",21),e.qZA(),e._UZ(36,"textarea",22),e.TgZ(37,"div",20),e.YNc(38,ne,2,0,"span",23),e.qZA(),e.TgZ(39,"button",24),e.NdJ("click",function(){return t.Register()}),e._uU(40,"Register"),e.qZA()()()()()),2&o){const i=e.MAs(20);e.xp6(7),e.Q6J("formGroup",t.myForm),e.xp6(3),e.Q6J("ngIf",t.secondform.Address&&t.secondform.Address.invalid&&t.secondform.Address.touched),e.xp6(5),e.Q6J("max",t.maxDob)("matDatepicker",i)("disabled",!0),e.xp6(3),e.Q6J("for",i),e.xp6(4),e.Q6J("ngIf",t.secondform.DateOfBirth&&t.secondform.DateOfBirth.invalid&&t.secondform.DateOfBirth.touched),e.xp6(13),e.Q6J("ngIf",t.secondform.Sex&&t.secondform.Sex.invalid&&t.secondform.Sex.touched),e.xp6(3),e.Q6J("ngIf",t.secondform.About&&t.secondform.About.invalid&&t.secondform.About.touched),e.xp6(1),e.Q6J("disabled",t.myForm.invalid)}},directives:[P.e,m.xw,m.Wh,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,f.O5,U.KE,U.hX,K.Nt,T.hl,U.bx,T.nW,U.R9,T.Mq,$.oG,A.VQ,A.U0,Z.lW],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;600&display=swap";.page-container[_ngcontent-%COMP%]{margin:20px 30px 0}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;outline:0;width:100%;border:0;border-radius:10px;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]   .short-info-input[_ngcontent-%COMP%]{height:900px!important}.form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;outline:0;width:100%;border:0;border-radius:10px;margin:0 0 15px;padding:15px;box-sizing:border-box;font-size:14px}.form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]   .short-info-input[_ngcontent-%COMP%]{height:900px!important}.dob[_ngcontent-%COMP%]{margin-top:40px;margin-left:10px}[_ngcontent-%COMP%]::placeholder{color:#8b92ac}#navbar[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}#register-btn[_ngcontent-%COMP%]{width:100%;margin-top:30px;border-radius:7px;height:52px;background-color:#ffc624;color:#000;font-family:Raleway,sans-serif;font-weight:700;font-size:16px}#register-btn[_ngcontent-%COMP%]:disabled{width:100%;margin-top:30px;border-radius:7px;height:52px;background-color:#aeaeae;color:#000;font-family:Raleway,sans-serif;font-weight:700;font-size:16px}  .Dialog mat-dialog-container{padding:0;height:500px!important;width:500px!important;object-fit:cover}  .mat-form-field-underline{display:none}.mat-form-field-infix[_ngcontent-%COMP%]{padding:.5em 0;border-top:none!important}']}),n})(),ae=(()=>{class n{constructor(o){this.router=o}ngOnInit(){}goToRegister(){this.router.navigateByUrl("/register/registration/first-registration-page")}decline(){this.router.navigateByUrl("/home/home/landingpage")}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-terms-and-conditions-page"]],decls:34,vars:0,consts:[["id","terms_container"],[1,"header"],[1,"last_update"],[1,"please_red"],[1,"terms_title"],[1,"terms_desc"],["id","down_buttons_cnt"],["id","decline",3,"click"],["id","accept",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2,"Terms and Conditions"),e.qZA(),e.TgZ(3,"p",2),e._uU(4,"Last update: April 24, 2022"),e.qZA(),e.TgZ(5,"p",3),e._uU(6,"Please read these terms and conditions carefully before registering for the contest."),e.qZA(),e.TgZ(7,"h5",4),e._uU(8,"1. Some Condition Title"),e.qZA(),e.TgZ(9,"p",5),e._uU(10,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),e.qZA(),e.TgZ(11,"h5",4),e._uU(12,"2. Some Condition Title"),e.qZA(),e.TgZ(13,"p",5),e._uU(14,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),e.qZA(),e.TgZ(15,"h5",4),e._uU(16,"3. Some Condition Title"),e.qZA(),e.TgZ(17,"p",5),e._uU(18,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),e.qZA(),e.TgZ(19,"h5",4),e._uU(20,"4. Some Condition Title"),e.qZA(),e.TgZ(21,"p",5),e._uU(22,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),e.qZA(),e.TgZ(23,"h5",4),e._uU(24,"5. Some Condition Title"),e.qZA(),e.TgZ(25,"p",5),e._uU(26,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. "),e.qZA(),e._UZ(27,"br")(28,"br"),e.TgZ(29,"div",6)(30,"Button",7),e.NdJ("click",function(){return t.decline()}),e._uU(31,"Decline"),e.qZA(),e.TgZ(32,"Button",8),e.NdJ("click",function(){return t.goToRegister()}),e._uU(33,"Accept"),e.qZA()()())},styles:["#terms_container[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;margin-right:5px}#terms_container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:var(--lightdark_text_color);font-size:23px;font-weight:500}#terms_container[_ngcontent-%COMP%]   .last_update[_ngcontent-%COMP%]{color:var(--lightdark_text_color);opacity:.8;margin-top:5px;margin-bottom:14px;font-size:19px}#terms_container[_ngcontent-%COMP%]   .please_red[_ngcontent-%COMP%]{font-size:15px;color:var(--lightdark_text_color);margin-bottom:28px}#terms_container[_ngcontent-%COMP%]   .terms_title[_ngcontent-%COMP%]{font-size:18px;color:var(--lightdark_text_color);font-weight:500}#terms_container[_ngcontent-%COMP%]   .terms_desc[_ngcontent-%COMP%]{font-size:15px;color:var(--lightdark_text_color);margin-bottom:25px}#terms_container[_ngcontent-%COMP%]   #down_buttons_cnt[_ngcontent-%COMP%]{background-color:#fff;display:flex;justify-content:space-between;padding:12px;width:100%;position:fixed;bottom:0;left:0px;right:0px}#terms_container[_ngcontent-%COMP%]   #down_buttons_cnt[_ngcontent-%COMP%]   #decline[_ngcontent-%COMP%]{border:2px solid black;background-color:#fff;color:#000;border-radius:20px;padding:2px 12px;font-weight:500}#terms_container[_ngcontent-%COMP%]   #down_buttons_cnt[_ngcontent-%COMP%]   #accept[_ngcontent-%COMP%]{background-color:#000;color:var(--yellowbtnback_g);border-radius:20px;padding:2px 12px;font-weight:500}"]}),n})();var h=l(5861);class k{}let re=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-success-snack"]],decls:3,vars:0,template:function(o,t){1&o&&(e.TgZ(0,"div")(1,"h1"),e._uU(2,"Delete was successful!"),e.qZA()())},styles:["body[_ngcontent-%COMP%]{height:20px;width:20px}"]}),n})(),se=(()=>{class n{constructor(o,t,i){this._snackBar=o,this.dialogRef=t,this.data=i}ngOnInit(){this.selectedItem=this.data,console.log("what i want",this.selectedItem)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.ux),e.Y36(y.so),e.Y36(y.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-media-player"]],decls:3,vars:1,consts:[["height","900","controls","",3,"src"]],template:function(o,t){1&o&&(e.TgZ(0,"p"),e._uU(1,"media-player works!"),e.qZA(),e._UZ(2,"video",0)),2&o&&(e.xp6(2),e.Q6J("src",t.selectedItem.MediaFileUri,e.LSH))},styles:[""]}),n})();var F=l(2912),O=l(520),le=l(5899),de=l(5245);const ce=["demoUpload"],pe=["mediaPlayer"];function ge(n,a){1&n&&(e.TgZ(0,"div")(1,"h4",24)(2,"span"),e._UZ(3,"img",29),e.qZA(),e._uU(4,"Your track was uploaded"),e.qZA(),e.TgZ(5,"h4",30),e._uU(6,"Your track will be reviewed by the team"),e.qZA()())}function me(n,a){1&n&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Just a minute"),e.qZA(),e.TgZ(3,"h4"),e._uU(4,"Your track is uploading..."),e.qZA()())}function ue(n,a){if(1&n&&(e.TgZ(0,"h4",31),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.fileName)}}function he(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).onCancel()}),e._uU(1,"cancel"),e.qZA()}}function fe(n,a){if(1&n&&(e.TgZ(0,"div",32),e._UZ(1,"mat-progress-bar",33),e.YNc(2,he,2,0,"button",34),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("value",o.value),e.xp6(1),e.Q6J("ngIf",o.value>0&&o.value<100)}}function ye(n,a){1&n&&(e.TgZ(0,"h5",36)(1,"mat-icon"),e._uU(2,"info"),e.qZA(),e._uU(3,"Sorry!, you can't upload more than three tracks"),e.qZA())}function _e(n,a){if(1&n){const o=e.EpF();e.TgZ(0,"div",37)(1,"button",38),e.NdJ("click",function(){return e.CHM(o),e.oxw().play()}),e._uU(2,"play"),e.qZA(),e.TgZ(3,"button",39),e.NdJ("click",function(){return e.CHM(o),e.oxw().deleteMediaFile()}),e._uU(4,"Delete"),e.qZA()()}}function be(n,a){1&n&&(e.TgZ(0,"h3",40),e._uU(1,"You can upload one more track"),e.qZA())}function ve(n,a){1&n&&(e.TgZ(0,"h3",40),e._uU(1,"You have no tracks uploaded yet"),e.qZA())}function xe(n,a){if(1&n&&(e.TgZ(0,"div",41)(1,"div",42),e._UZ(2,"img",43),e.TgZ(3,"div",44)(4,"h3",24),e._uU(5),e.qZA(),e.TgZ(6,"h3",45),e._uU(7),e.TgZ(8,"span"),e._uU(9,"KB"),e.qZA()()()()()),2&n){const o=a.$implicit;e.xp6(5),e.Oqu(o.Description),e.xp6(2),e.Oqu(o.Size)}}function Ue(n,a){1&n&&(e.TgZ(0,"p",46)(1,"span",24),e._uU(2,"Upload Another"),e.qZA()())}function Pe(n,a){if(1&n&&(e.TgZ(0,"video",47),e._UZ(1,"source",48),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.s9C("src",o.justUploadedTrack.MediaFileUri,e.LSH)}}const Ce=["imageUpload"];function Te(n,a){1&n&&e._UZ(0,"img",12)}function ke(n,a){if(1&n&&e._UZ(0,"img",13),2&n){const o=e.oxw();e.Q6J("src",o.url,e.LSH)}}function Ie(n,a){1&n&&(e.TgZ(0,"section")(1,"div",14)(2,"span"),e._uU(3,"U"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"P"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"L"),e.qZA(),e.TgZ(8,"span"),e._uU(9,"O"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"A"),e.qZA(),e.TgZ(12,"span"),e._uU(13,"D"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"I"),e.qZA(),e.TgZ(16,"span"),e._uU(17,"N"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"G"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"."),e.qZA(),e.TgZ(22,"span"),e._uU(23,"."),e.qZA(),e.TgZ(24,"span"),e._uU(25,"."),e.qZA()()())}function we(n,a){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",15),e.qZA())}const Me=[{path:"",pathMatch:"full",redirectTo:"registration"},{path:"registration",component:H,children:[{path:"",pathMatch:"full",redirectTo:"terms"},{path:"first-registration-page",component:j},{path:"second-registration-page",component:ie},{path:"terms",component:ae},{path:"track-upload",component:(()=>{class n{constructor(o,t,i,r,d,c){this.router=o,this.RegisProcessServ=t,this.dialog=i,this.userRegistrationService=r,this.http=d,this.snackBar=c,this.liveshowartiste=2,this.seasonId=1,this.uploadedBy=2,this.registered=!0,this.durationInSeconds=5,this.mediaLimit=!0,this.showuploadicon=!0,this.formData=new FormData,this.thumbnailImg=document.querySelector("#img-thumb"),this.opana=!0,this._value=0,this.showUploadMoreBtn=!1,this.firstFormData=new g,this.item=new g,this.newUser=new g,this.mediafile=new k,this.thirdPartyUser=new g,this.myvideo=new k,this.selected=new k}get value(){return this._value}set value(o){!isNaN(o)&&o<=100&&(this._value=o,this._value>0&&(this.radar=!0))}ngOnInit(){this.getAudioThumbnail(),this.userPhoneNumberFromAyoba=_.v.thirdParthId,this.getUserMediaFiles(),this.getUserByThirdPartId(),this.getUserMediaFilesByUserId(this.RegisProcessServ.mRegisteredUser.Id),this.RegisProcessServ.firstFormInfo.subscribe(o=>{this.firstFormData=o}),this.RegisProcessServ.secondFormInfo.subscribe(o=>{this.secondFormData=o,console.log("registered user data",this.secondFormData)})}openPlayer(){var o=this.uploadedMediaFiles;this.justUploadedTrack=o[o.length-1],this.dialog.open(this.mediaPlayer,{panelClass:"custom-modalbox"})}openDialog(){this.dialog.open(w)}upload(o){var t=this;return(0,h.Z)(function*(){var i;try{if(console.log("the button has been triggered"),t.myArrayLength=t.uploadedMediaFiles.length,console.log("my media lenth is",t.myArrayLength),t.myArrayLength<3){t.showuploadicon=!1,t.thumbnailFile="",t.file=null===(i=o.target)||void 0===i?void 0:i.files[0];const r=URL.createObjectURL(t.file),d=yield t.getThumbnailForVideo(r);yield t.getAudioDuration(r);let c=t.file.type.toString().includes("video"),p=t.file.type.toString().includes("audio");p&&t.file.size>10485760?console.log("audio file must not exceed 10MB"):!p&&t.file.size>20971520?console.log("Upload size exceeds the 20MB limit!"):c&&t.videoDuration>120?console.log("Video should be not more than 2 mins!"):c&&t.file.size<20971520&&t.videoDuration<120?(t.thumbnailFile=t.dataURLtoFile(d,t.file.name),console.log("succesful")):console.log("successfully added track"),t.mediaSelected=!0,t.fileName=t.file.name,t.onUpload()}else t.mediaLimit=!1,console.log("it is too much")}catch(r){console.log(r)}})()}getAudioThumbnail(){let t=document.getElementById("audio-thumb").src;console.log(t),fetch(t).then(i=>i.blob()).then(i=>{this.audioThumbnailImg=new File([i],"hitmaker_default_image.png",i),console.log(this.audioThumbnailImg)})}getThumbnailForVideo(o){var t=this;return(0,h.Z)(function*(){var i;const r=document.createElement("video"),d=document.createElement("canvas");return r.style.display="none",d.style.display="none",yield new Promise((p,b)=>{r.addEventListener("loadedmetadata",()=>{r.width=r.videoWidth,r.height=r.videoHeight,d.width=r.videoWidth,d.height=r.videoHeight,r.currentTime=.25*r.duration,t.videoDuration=r.duration}),r.addEventListener("seeked",()=>p({})),r.src=o}),null===(i=null==d?void 0:d.getContext("2d"))||void 0===i||i.drawImage(r,0,0,r.videoWidth,r.videoHeight),d.toDataURL("image/png")})()}dataURLtoFile(o,t){for(var i=o.split(","),r=i[0].match(/:(.*?);/)[1],d=atob(i[1]),c=d.length,p=new Uint8Array(c);c--;)p[c]=d.charCodeAt(c);return new File([p],t,{type:r})}getAudioDuration(o){var t=this;return(0,h.Z)(function*(){const i=document.createElement("audio");yield new Promise((r,d)=>{i.addEventListener("loadedmetadata",()=>{i.currentTime=i.duration,t.audioDuration=i.duration}),i.addEventListener("seeked",()=>r({})),i.src=o})})()}onUpload(){if(this.showUploadMoreBtn=!1,null!=this.thirdPartyUser){if(this.file||console.log("no file selected"),this.file){!1===this.showuploadicon&&(document.querySelector(".image-upload").style.display="none");var o=this.file.type.toString().includes("video"),t=this.file.type.toString().includes("audio");this.formData.set("Id",M.Z()),t?(this.formData.set("FileType","AUDIO"),this.formData.set("Duration",this.audioDuration),this.formData.set("VideoThumbnailFile",this.audioThumbnailImg)):o&&(this.formData.set("FileType","VIDEO"),this.formData.set("Duration",this.videoDuration),this.formData.set("VideoThumbnailFile",this.thumbnailFile)),this.formData.set("LiveShowArtisteUserId",this.thirdPartyUser.Id),this.formData.set("Title",this.file.name),this.formData.set("Description",this.file.name),this.formData.set("Size",this.file.size),this.formData.set("SeasonId",this.thirdPartyUser.SeasonId),this.formData.set("UploadedByUserId",this.thirdPartyUser.Id),this.formData.set("File",this.file),this.formData.set("UseCase","DEMO"),this.formData.set("IsPrivate","true"),this.subscription=this.http.post(F.l.uploadDemoTracks,this.formData,{reportProgress:!0,observe:"events"}).subscribe(i=>{console.log("my added demo",i),i.loaded&&i.total&&(this.value=Math.round(i.loaded/i.total*100),console.log("upload was successful"),console.log(i),this.getUserMediaFiles(),null===this.secondFormData&&(this.registered=!1)),i.body&&(this.message=i.body.message)})}}else console.log("thirdPartyUser does not exist")}getUserByThirdPartId(){console.log("loggiiiing"),console.log("this is the third party IDD",_.v.thirdParthId),this.userRegistrationService.fetchUserByThirdPartyId(_.v.thirdParthId).subscribe(o=>{this.thirdPartyUser=o,console.log("thirdPartyUser",this.thirdPartyUser)})}deleteMediaFile(){var o=this.uploadedMediaFiles;this.userRegistrationService.deleteMediaFile(o[o.length-1].Id).subscribe(i=>{this.snackBar.open("item successfully deleted","OK",{duration:2e3,panelClass:["mat-toolbar","mat-primary"]}),this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["register/registration/track-upload"])}),console.log("the delete was successful")},i=>{console.log("delete failed")})}onSelect(o){this.openPlayer(),console.log("selection",o)}openMedia(o){o.selected=this.selected,this.dialog.open(se,{panelClass:"Dialog",data:o})}play(){this.openPlayer()}doneBtn(){this.router.navigateByUrl("/home/home/landingpage")}reset(){this.demoUpload.nativeElement.value=""}onCancel(){this.subscription.unsubscribe(),this.demoUpload.nativeElement.value="",console.log("file upload was cancelled"),this.demoUpload.nativeElement.value="",this.showuploadicon=!0,document.getElementById("details").style.display="none",document.querySelector(".image-upload").style.display="block"}getUserMediaFilesByUserId(o){this.userRegistrationService.fetchUserMediaFiles(o).subscribe(t=>{const r=t.map(d=>Object.assign(Object.assign({},d),{date:new Date(d.UploadDate)})).sort((d,c)=>Number(d.date)-Number(c.date));this.uploadedMediaFiles=r,this.uploadedMediaFiles.length>=1&&this.uploadedMediaFiles.length<=3&&(console.log("setting showUploadmoreBtn to true.."),this.showUploadMoreBtn=!0),console.log("myMedia",this.uploadedMediaFiles)},t=>{})}getUserMediaFiles(){var o=this.RegisProcessServ.mRegisteredUser;null!=o?this.getUserMediaFilesByUserId(o.Id):this.userRegistrationService.fetchUserByThirdPartyId(_.v.thirdParthId).subscribe(t=>{null!=t?(this.RegisProcessServ.mRegisteredUser=t,this.getUserMediaFilesByUserId(t.Id)):console.log("third party id is null")})}openDeleteSnackBar(){this.snackBar.openFromComponent(re,{duration:1e3*this.durationInSeconds,panelClass:["my-snackBar"]})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(u.F0),e.Y36(v.d),e.Y36(y.uw),e.Y36(C.c),e.Y36(O.eN),e.Y36(x.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-track-upload-page"]],viewQuery:function(o,t){if(1&o&&(e.Gf(ce,5),e.Gf(pe,7)),2&o){let i;e.iGM(i=e.CRH())&&(t.demoUpload=i.first),e.iGM(i=e.CRH())&&(t.mediaPlayer=i.first)}},decls:44,vars:10,consts:[["id","navbar"],["title","Add tracks"],["fxLayout","column",1,"page-container"],["fxLayout","column",2,"margin-top","-10px"],[2,"font-weight","bold","margin-bottom","-10px"],[2,"color","#888888"],[2,"margin-top","-20px","color","#888888"],["fxLayout","column",1,"uploading-section"],[4,"ngIf"],["id","details"],["style","margin-bottom: -30px;",4,"ngIf"],["fxLayout","row","style","margin-top:40px; margin-bottom: 20px;",4,"ngIf"],["id","audio-thumb","src","assets/images/hitmaker_default_image.png","hidden",""],["fxLayout","column","fxLayoutAlign","center center",1,"image-upload"],["for","file-input",2,"margin-top","27px"],["src","assets/images/file-upload.svg",2,"height","70px","width","70px","margin-bottom","-10px"],["id","file-input","type","file","accept","video/audio, /mp3/mp4",3,"change"],["demoUpload",""],["style","color: red;font-weight:bold ; display: flex;justify-content: center; align-items: center; margin-top: -15px;margin-left: 0px;",4,"ngIf"],["fxLayout","row","fxLayoutGap","20px",4,"ngIf"],["style","margin-top: 10px;",4,"ngIf"],["style","margin-top: -7px;",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-around center"],["type","button",1,"btn","btn-warning",3,"click"],[2,"font-weight","bold"],["for","file-input",3,"click"],["id","anotherUpload","style","color: white; background-color: black;margin-top: 19px;","type","button","class","btn btn-warning",4,"ngIf"],["style","background-color: none;display: contents;z-index: 1000;"],["mediaPlayer",""],["src","assets/images/check.png",2,"height","20px","width","20px"],[2,"margin-top","-20px"],[2,"margin-bottom","-30px"],["fxLayout","row",2,"margin-top","40px","margin-bottom","20px"],["color","blue","mode","determinate",2,"height","8px",3,"value"],["style","margin-top: -10px;margin-left:20px","type","button","class","cancelbtn",3,"click",4,"ngIf"],["type","button",1,"cancelbtn",2,"margin-top","-10px","margin-left","20px",3,"click"],[2,"color","red","font-weight","bold","display","flex","justify-content","center","align-items","center","margin-top","-15px","margin-left","0px"],["fxLayout","row","fxLayoutGap","20px"],["type","button","id","playBtn",1,"playbtn",3,"click"],["type","button",1,"cancelbtn",2,"margin-top","-5px",3,"click"],[2,"margin-top","10px"],[2,"margin-top","-7px"],["fxLayout","row","fxLayoutGap","20px",2,"margin-top","5px"],["src","assets/images/mp3-file.png",2,"height","70px","width","70px"],["fxLayout","column","fxLayoutAlign","start"],[2,"margin-top","-10px"],["id","anotherUpload","type","button",1,"btn","btn-warning",2,"color","white","background-color","black","margin-top","19px"],["controls","","autoplay","",2,"width","100%"],["type","video/mp4",3,"src"]],template:function(o,t){1&o&&(e.TgZ(0,"section")(1,"div",0),e._UZ(2,"app-backtitlenav",1),e.qZA(),e.TgZ(3,"div",2)(4,"h3"),e._uU(5," Kindly upload your demos by selecting \u201cUpload your track\u201d. You can upload up to 3 songs. "),e.qZA(),e.TgZ(6,"div",3)(7,"h3",4),e._uU(8,"Track should be"),e.qZA(),e.TgZ(9,"h4",5),e._uU(10,"- An original work of the Artiste."),e.qZA(),e.TgZ(11,"h4",6),e._uU(12,"- Have a maximum of 10MB for audio."),e.qZA(),e.TgZ(13,"h4",6),e._uU(14,"- Have a maximum of 20MB for video."),e.qZA()(),e.TgZ(15,"section")(16,"div",7)(17,"div"),e.YNc(18,ge,7,0,"div",8),e.TgZ(19,"div",9),e.YNc(20,me,5,0,"div",8),e.YNc(21,ue,2,1,"h4",10),e.qZA(),e.YNc(22,fe,3,2,"div",11),e._UZ(23,"img",12),e.TgZ(24,"div",13)(25,"label",14),e._UZ(26,"img",15),e.qZA(),e.TgZ(27,"h3"),e._uU(28,"Upload your track"),e.qZA(),e.TgZ(29,"input",16,17),e.NdJ("change",function(r){return t.upload(r)}),e.qZA()(),e.YNc(31,ye,4,0,"h5",18),e.YNc(32,_e,5,0,"div",19),e.qZA()()(),e.YNc(33,be,2,0,"h3",20),e.YNc(34,ve,2,0,"h3",20),e.YNc(35,xe,10,2,"div",21),e.TgZ(36,"div",22)(37,"button",23),e.NdJ("click",function(){return t.doneBtn()}),e.TgZ(38,"span",24),e._uU(39,"Done"),e.qZA()(),e.TgZ(40,"label",25),e.NdJ("click",function(){return t.reset()}),e.YNc(41,Ue,3,0,"p",26),e.qZA()()()(),e.YNc(42,Pe,2,1,"ng-template",27,28,e.W1O)),2&o&&(e.xp6(18),e.Q6J("ngIf",100==t.value),e.xp6(2),e.Q6J("ngIf",t.value>0&&t.value<90),e.xp6(1),e.Q6J("ngIf",t.value>=0),e.xp6(1),e.Q6J("ngIf",!t.showuploadicon),e.xp6(9),e.Q6J("ngIf",0==t.mediaLimit),e.xp6(1),e.Q6J("ngIf",t.value>=100),e.xp6(1),e.Q6J("ngIf",(null==t.uploadedMediaFiles?null:t.uploadedMediaFiles.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.uploadedMediaFiles?null:t.uploadedMediaFiles.length)<=0),e.xp6(1),e.Q6J("ngForOf",t.uploadedMediaFiles),e.xp6(6),e.Q6J("ngIf",t.showUploadMoreBtn))},directives:[P.e,m.xw,f.O5,le.pW,m.Wh,de.Hw,m.SQ,f.sg],styles:['@import"https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;600&display=swap";.uploading-section[_ngcontent-%COMP%]{border-style:dashed;border-width:2px;border-radius:10px;border-color:#d1d1f2;opacity:1;display:flex;align-items:center;justify-content:center;position:relative;padding:10px}.custom-modalbox[_ngcontent-%COMP%]   mat-dialog-container[_ngcontent-%COMP%]{display:contents;padding:4px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.image-upload[_ngcontent-%COMP%] > input[type=file][_ngcontent-%COMP%]{display:none}.page-container[_ngcontent-%COMP%]{margin:20px 30px 0}.playbtn[_ngcontent-%COMP%]{height:34px;width:78px;border:1px solid #4359FF;border-radius:20px;background-color:#4359ff14;color:#4359ff;margin-top:-10px}.cancelbtn[_ngcontent-%COMP%]{height:34px;width:78px;border:1px solid #FF7979;border-radius:20px;background-color:#ff313114;color:#ff7979;margin-top:-10px}#navbar[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:10px}#submit-btn[_ngcontent-%COMP%]{width:100%;margin-top:-5px;border-radius:7px;height:52px;background-color:#ffc624;color:#000;font-family:Raleway,sans-serif;font-weight:700;font-size:16px}  .mat-progress-bar-fill:after{background-color:#00f}  .mat-progress-bar-buffer{background:#EEF0F5}  .mat-progress-bar{border-radius:2px}.my-snackBar[_ngcontent-%COMP%]{background:white!important}  .Dialog mat-dialog-container{padding:0;height:100px!important;width:200px!important;object-fit:cover}']}),n})()},{path:"profile-upload",component:(()=>{class n{constructor(o,t,i,r,d){this.userRegistrationService=o,this.RegisProcessServ=t,this.http=i,this.router=r,this.snackBar=d,this.formData=new FormData,this.secondData=30,this.selectedImageUrl="",this.uploaded=!1,this.compressedImageBlob=null}ngOnInit(){this.RegisProcessServ.secondFormInfo.subscribe(o=>{this.secondFormData=o,console.log("registered user's ID",this.secondFormData.User.Id)})}onFilechange(o){var t=this;return(0,h.Z)(function*(){var i;t.file=null===(i=o.target)||void 0===i?void 0:i.files[0],t.selectedImageUrl=URL.createObjectURL(t.file),t.fileName=t.file.name,t.preview()})()}compressImage(o,t,i){const r=document.createElement("canvas"),d=r.getContext("2d");r.width=100,r.height=100,d.drawImage(o,0,0,100*t,100*t),r.toBlob(S=>{S&&(this.compressedImageBlob=S)},"image/jpeg",i),console.log(this.compressedImageBlob)}fileToDataUri(o){return new Promise(t=>{const i=new FileReader;i.addEventListener("load",()=>{t(i.result)}),i.readAsDataURL(o)})}reader(){if(this.file){var o=new FileReader;o.readAsDataURL(this.file),this.file.type.indexOf("image")>-1&&(this.format="image"),o.onload=t=>{this.url=t.target.result}}}preview(){var o=this;if(this.file){var t=new FileReader;t.readAsDataURL(this.file),this.file.type.indexOf("image")>-1?this.format="image":this.file.type.indexOf("video")>-1&&(this.format="video"),t.onload=i=>{this.url=i.target.result,setTimeout((0,h.Z)(function*(){console.log("about to load");let r=document.getElementById("profile-image");r.src=yield o.fileToDataUri(o.file),console.log(r),o.compressImage(r,1,1),setTimeout((0,h.Z)(function*(){o.uploadProfilePicture()}),2e3)}),2e3)}}}getFile(o){var t=this;return(0,h.Z)(function*(){var i,r;t.file=null===(i=o.target)||void 0===i?void 0:i.files[0],console.log("myFilePath",null===(r=o.target)||void 0===r?void 0:r.files[0]),t.fileName=t.file.name,t.preview()})()}uploadProfilePicture(){null!=this.compressedImageBlob?(console.log(this.compressedImageBlob),"image"==this.file.type.split("/")[0]?(this.isLoading=!0,this.file&&(this.formData.set("UserId",this.secondFormData.User.Id),this.formData.set("ImageFile",this.compressedImageBlob),this.http.post(F.l.setProfilePicture,this.formData).subscribe(t=>{document.getElementById("uploadIcon").style.display="none",1===t.Success?(this.isLoading=!1,this.uploaded=!0,console.log("works"),document.getElementById("uploadIcon").style.display="none",this.snackBar.open("Upload Successful","OK",{duration:2e3,panelClass:["mat-toolbar","mat-primary"]})):(document.getElementById("uploadIcon").style.marginTop="160px",this.snackBar.open("upload failed","OK",{duration:2e3,panelClass:["mat-toolbar","mat-warn"]}),console.log("failed upload"))}))):(console.log("the file is not an image"),this.file=null,document.getElementById("imageReplace").style.display="inline-block",this.snackBar.open("You must upload an image file","OK",{duration:2e3,panelClass:["mat-toolbar","mat-warn"]}))):console.log("compressedImageBlob is null")}pageRedirect(){this.router.navigateByUrl("/register/registration/track-upload")}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(C.c),e.Y36(v.d),e.Y36(O.eN),e.Y36(u.F0),e.Y36(x.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-profile-upload"]],viewQuery:function(o,t){if(1&o&&e.Gf(Ce,5),2&o){let i;e.iGM(i=e.CRH())&&(t.imageUpload=i.first)}},decls:15,vars:5,consts:[["fxLayout","column","fxLayoutGap","100px",1,"full-page"],[2,"font-weight","bold"],[1,"image-upload"],["for","file-input"],[1,"upload-icon"],["src","assets/images/photocam.png","id","uploadIcon",1,"icon"],["accept","image/jpeg, image/png","id","file-input","type","file",3,"change"],["imageUpload",""],["src","assets/images/userpng.png","class","profile-image","id","imageReplace",4,"ngIf"],["class","profile-image","id","profile-image",3,"src",4,"ngIf"],[4,"ngIf"],["type","btn","mat-flat-button","","color","primary",1,"skip-btn",2,"height","50px","width","100%","border-radius","20px","font-weight","bold","font-size","20px",3,"disabled","click"],["src","assets/images/userpng.png","id","imageReplace",1,"profile-image"],["id","profile-image",1,"profile-image",3,"src"],[1,"loading","loading03"],["aria-hidden","true",1,"fa","fa-long-arrow-right","arrow1"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Set Profile Image"),e.qZA(),e.TgZ(3,"div",2)(4,"label",3)(5,"div",4),e._UZ(6,"img",5),e.qZA()(),e.TgZ(7,"input",6,7),e.NdJ("change",function(r){return t.getFile(r)}),e.qZA(),e.YNc(9,Te,1,0,"img",8),e.YNc(10,ke,1,1,"img",9),e.qZA(),e.YNc(11,Ie,26,0,"section",10),e.TgZ(12,"button",11),e.NdJ("click",function(){return t.pageRedirect()}),e._uU(13," Continue "),e.YNc(14,we,2,0,"span",10),e.qZA()()),2&o&&(e.xp6(9),e.Q6J("ngIf",!t.file),e.xp6(1),e.Q6J("ngIf","image"===t.format&&t.url),e.xp6(1),e.Q6J("ngIf",!0===t.isLoading),e.xp6(1),e.Q6J("disabled",!t.uploaded),e.xp6(2),e.Q6J("ngIf",t.uploaded))},directives:[m.xw,m.SQ,f.O5,Z.lW],styles:[".full-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.profile-image[_ngcontent-%COMP%]{margin-top:150px;height:300px;width:300px;border-radius:50%;position:relative;object-fit:cover;padding:10px;border:5px solid #1B1A20}.image-upload[_ngcontent-%COMP%]{margin-top:-200px}.image-upload[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.icon[_ngcontent-%COMP%]{height:70px;width:70px;margin-top:150px;z-index:10000;margin-left:270px;position:absolute}.arrow1[_ngcontent-%COMP%]{animation:slide1 1s ease-in-out infinite;margin-left:9px}@keyframes slide1{0%,to{transform:translate(0)}50%{transform:translate(10px)}}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 -.075em;animation:loading03 .7s infinite alternate}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){animation-delay:.5s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){animation-delay:.6s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){animation-delay:.7s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){animation-delay:.8s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){animation-delay:.9s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){animation-delay:1s}.loading03[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){animation-delay:1.1s}@keyframes loading03{0%{transform:scale(1)}to{transform:scale(.8)}}.loading[_ngcontent-%COMP%]{font-size:17px;font-family:Montserrat,sans-serif;font-weight:800;text-align:center}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 -.05em}"]}),n})()}]}];let Ae=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Me)],u.Bz]}),n})();var Fe=l(755),Oe=l(4932);let Se=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.ez,Ae,s.u5,Fe.m,Oe.q]]}),n})()}}]);